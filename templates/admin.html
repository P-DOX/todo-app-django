<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin â€” Default Weekly Tasks</title>
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
  <main class="container">
    <header class="admin-header">
      <div class="admin-header-content">
        <div class="admin-icon">âš™ï¸</div>
        <div>
          <h1 class="admin-title">Default Weekly Tasks</h1>
          <p class="admin-subtitle">Create recurring tasks that automatically appear on specific weekdays</p>
        </div>
      </div>
      <a href="{% url 'index' %}" class="back-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back to App
      </a>
    </header>

    <div class="admin-layout">
      <section class="admin-form-card">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">â•</span>
            Add New Default Task
          </h2>
        </div>
        
        <form id="default-form" class="default-form" aria-label="Add default weekly task">
          <div class="form-group">
            <label class="form-label">
              <span class="label-icon">ğŸ“…</span>
              Weekdays
              <small style="font-weight: normal; color: #666; margin-left: 8px;">(Select one or more)</small>
            </label>
            <div id="weekday-checkboxes" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-top: 8px;">
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="0" style="cursor: pointer;">
                <span>Sunday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="1" checked style="cursor: pointer;">
                <span>Monday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="2" style="cursor: pointer;">
                <span>Tuesday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="3" style="cursor: pointer;">
                <span>Wednesday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="4" style="cursor: pointer;">
                <span>Thursday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="5" style="cursor: pointer;">
                <span>Friday</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; transition: all 0.2s;">
                <input type="checkbox" name="weekday" value="6" style="cursor: pointer;">
                <span>Saturday</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="default-title" class="form-label">
              <span class="label-icon">ğŸ“</span>
              Task Title
            </label>
            <input id="default-title" type="text" class="form-input" placeholder="e.g., Team Meeting, Grocery Shopping" required>
          </div>

          <div class="form-group">
            <label for="default-tab" class="form-label">
              <span class="label-icon">ğŸ·ï¸</span>
              Category
            </label>
            <select id="default-tab" class="form-select">
              <option value="personal">Personal</option>
              <option value="work">Work</option>
            </select>
          </div>

          <button type="submit" class="form-submit-btn">
            <span>â•</span>
            Add Default Task
          </button>
        </form>
      </section>

      <section class="admin-table-card">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ“‹</span>
            Your Default Tasks
          </h2>
          <span class="task-count" id="task-count">0 tasks</span>
        </div>
        
        <div class="table-wrapper">
          <table id="defaults-table" class="defaults-table">
            <thead>
              <tr>
                <th>Weekday</th>
                <th>Task Title</th>
                <th>Category</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="empty-state" id="empty-state">
            <div class="empty-icon">ğŸ“­</div>
            <p class="empty-text">No default tasks yet</p>
            <p class="empty-hint">Add your first recurring task using the form above</p>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script src="{% static 'js/auth.js' %}?v=3.0"></script>
  <script src="{% static 'js/admin.js' %}?v=5.0"></script>
  <style>
    #weekday-checkboxes label:hover {
      background-color: #f5f5f5;
      border-color: #667eea;
    }
    #weekday-checkboxes input[type="checkbox"]:checked + span {
      font-weight: 600;
      color: #667eea;
    }
  </style>
</body>
</html>
